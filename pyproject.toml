[tool.poetry]
name = "wrath-and-glory-space-hulk-generator"
version = "1.3.4"
description = "Generates Space Hulks based on the tables provided in the Redacted Records rulebook of Cubicle 7"
authors = ["LordFckHelmchen <dj_mack@gmx.de>"]
license = "GPLv3"
readme = "README.md"
homepage = "https://share.streamlit.io/lordfckhelmchen/wrath-and-glory-space-hulk-generator/main"
keywords = ["rpg", "rpg-tool", "wrathandglory"]
repository = "https://github.com/LordFckHelmchen/wrath-and-glory-space-hulk-generator"
classifiers = ["Programming Language :: Python :: 3.9",
]

[tool.poetry.urls]
Changelog = "https://github.com/LordFckHelmchen/WrathAndGloryXPOptimizer/releases"

[tool.poetry.dependencies]
PyPDF2 = "^2.4.1"
fpdf = "^1.7.2"
graphviz = "^0.20"
pydantic = "^1.9.1"
python = "^3.9"
streamlit = "^1.10.0"

[tool.poetry.group.dev.dependencies]
black = {extras = ["d"], version = "^23.1.0"}
ruff = "^0.0.254"
toml = "^0.10.2"

[tool.black]
line-length = 120        # Keep in synch with tool.ruff

[tool.ruff]
select = ["ALL"]
ignore = ["A003",    # Class attributes "shadowing" built-ins
          "ANN10",   # No annotation for self/cls - not useful
          "COM",     # All commas warnings - covered by black
          "D",       # All pydocstyle warnings
          "G004",    # Logging statement uses f-string
          "N805",    # First argument of a method should be named self -> False-positive for pydantic validators
          "PT009",   # Use a regular `assert` instead of unittest-style `assertEqual`
          "T10",     # Debugger warnings
          "TRY003",  # Avoid specifying long messages outside the exception class
         ]
target-version = "py39"  # Keep in synch with .python-version
line-length = 120        # Keep in synch with tool.black

[tool.ruff.per-file-ignores]
"test_*.py" = ["ANN201",  # No return type check for tests
               "N802",    # Function name should be lowercase - used when expecting errors
               "SLF",     # Allow private member access in tests
              ]

[tool.ruff.flake8-type-checking]
strict = true

[tool.ruff.pydocstyle]
convention = "numpy"  # Accepts: "google", "numpy", or "pep257".

[build-system]
requires = ["poetry-core>=1.0.0"]
build-backend = "poetry.core.masonry.api"
